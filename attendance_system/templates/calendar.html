{% extends "bootstrap/base.html" %}
{% block title %}カレンダー{% endblock %}

{% block content %}
<div class="container">
  <h2>{{ year }}年 {{ month }}月</h2>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>日</th>
        <th>月</th>
        <th>火</th>
        <th>水</th>
        <th>木</th>
        <th>金</th>
        <th>土</th>
      </tr>
    </thead>
    <tbody>
      {% for week in cal %}
        <tr>
          {% for day in week %}
            {% if day != 0 %}
              {# 今日の日付と完全一致したらハイライト #}
              {% set is_today = (year == today.year and month == today.month and day == today.day) %}
              <td class="{% if is_today %}current-date{% endif %}">
                <a href="{{ url_for('day_records', date='%04d-%02d-%02d'|format(year, month, day)) }}">
                  {{ day }}
                </a>
              </td>
            {% else %}
              <td></td>
            {% endif %}
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="btn-group" role="group">
    <a href="{{ url_for('calendar_view', year=prev_year, month=prev_month) }}" class="btn btn-secondary">&lt; 前月</a>
    <a href="{{ url_for('calendar_view', year=next_year, month=next_month) }}" class="btn btn-secondary">次月 &gt;</a>
    <a href="{{ url_for('index') }}" class="btn btn-primary">ホームに戻る</a>
  </div>

</div>
{% endblock %}
